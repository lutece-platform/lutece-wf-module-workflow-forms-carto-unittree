		<legend>#i18n{task.config.configFormLegend}</legend>
		
		<@messages errors=errors />

		<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelFormSelect}' labelFor='form_select' class='align-items-center'>
			<@inputGroup>
				<@select name='form_select' items=lstForms default_value='${id_form!}' />
				<@button type='submit' buttonIcon='check' name='apply' value='select_form_config' />
			</@inputGroup>
		</@formGroup>
		<#if id_form??>
		<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelFormStepSelect}' labelFor='step_select' class='align-items-center'>
			<@inputGroup>
				<@select name='step_select' items=list_step default_value='${id_step!}' />
				<@button type='submit' buttonIcon='check' name='apply' value='select_step_config' />
			</@inputGroup>
		</@formGroup>
		</#if>

		<#if id_step??>
		<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelFormValuesList}' labelFor='question_select' class='align-items-center'>
			<@inputGroup>
				<@select name='question_select' items=question_list default_value='${id_question!}' />
				<@button type='submit' buttonIcon='check' name='apply' value='select_question_config' />
			</@inputGroup>
		</@formGroup>
		</#if>			

		<#if id_step??>
		<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelFormMappingField}' labelFor='question_select_carto' class='align-items-center'>
			<@inputGroup>
				<@select name='question_select_carto' items=question_list_carto default_value='${id_question_carto!}' />
				<@button type='submit' buttonIcon='check' name='apply' value='select_question_config_carto' />
			</@inputGroup>
		</@formGroup>
		</#if>
			
		<#if id_step??>
		<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelFormUnitTreeTargetField}' labelFor='question_select_unittree' class='align-items-center'>
			<@inputGroup>
				<@select name='question_select_unittree' items=question_list_unittree default_value='${id_question_unittree!}' />
				<@button type='submit' buttonIcon='check' name='apply' value='select_question_config_unittree' />
			</@inputGroup>
		</@formGroup>
		</#if>
			
		<#if id_question_carto?? && id_question??>
			<@formGroup>
				   <@aButton title='#i18n{module.workflow.formscarto.task.config.btnNewConfiguration}' size='' params='data-toggle="modal" data-target="#importJsonModal"'  />
			</@formGroup>
		
			<hr>
			<@div class='bloc-champs-wrapper'>
				<#list lst_carto_forms_unittree as carto_forms_unit>
				<@div class='bloc-champs'>
					<@row>
						<@columns md=2 offsetMd=3>
							<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelValueSelectCartoRead}' labelFor='value_select_carto_read' class='align-items-center' rows=2>
								<@select id="value_select_carto_read" name="value_select_carto_read" items=list_value_carto default_value='${carto_forms_unit.fieldValueForms!}' disabled=true size='sm' />
							</@formGroup>
						</@columns>
						<@columns md=2>
							<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelSelectCartoRead}' labelFor='layer_select_carto_read' class='align-items-center' rows=2>
								<@select id="layer_select_carto_read" name="layer_select_carto_read" items=list_datalayer default_value='${carto_forms_unit.fieldCartoLayer!}' disabled=true size='sm' />
							</@formGroup>
						</@columns>
						<@columns md=2>
							<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelSelectUnittreeRead}' labelFor='layer_select_unittree_read' class='align-items-center' rows=2>
								<@inputGroup type='btn'>
								<@select id="layer_select_unittree_read" name="layer_select_unittree_read" items=list_unittree_carto default_value='${carto_forms_unit.fieldUnittree!}' disabled=true size='sm' />
								<@aButton href='jsp/admin/plugins/workflow/ModifyTask.jsp?id_task=${config.idTask}&id_unit=${carto_forms_unit.id}' title='#i18n{task.config.btnDeleteConfiguration}' buttonIcon='trash' color='danger' size='sm' />
								</@inputGroup>
							</@formGroup>
						</@columns>
						<!--<@columns md=1>
							<@formGroup rows=2>
								<@aButton href='jsp/admin/plugins/workflow/ModifyTask.jsp?id_task=${config.idTask}&id_unit=${carto_forms_unit.id}' title='#i18n{task.config.btnDeleteConfiguration}' buttonIcon='trash' color='danger' size='sm' />
							</@formGroup>
							</@columns>-->
					</@row>
				</@div>
				</#list>
			</@div>
		</#if>
	
		<style>
			.bloc-champs-wrapper .bloc-champs:not(:first-child) label {
				visibility: hidden; width:0; height:0;
			}
		</style>

		<@modal id='importJsonModal'>
			<@modalHeader modalTitle='#i18n{module.workflow.formscarto.task.config.modalAddConfigurationTitle}' />
			<@modalBody>
				<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelValueSelectCartoRead}' labelFor='value_select_carto' class='align-items-center'>
					<@select id="value_select_carto" name="value_select_carto" items=list_value_carto default_value='${id_list_close!}' />
				</@formGroup>
				<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelSelectCartoRead}' labelFor='layer_select_carto' class='align-items-center'>
					<@select id="layer_select_carto" name="layer_select_carto" items=list_datalayer default_value='${id_carto_layer!}' />
				</@formGroup>
				<@formGroup labelKey='#i18n{module.workflow.formscarto.task.config.labelSelectUnittreeRead}' labelFor='layer_select_unittree' class='align-items-center'>
					<@select id="layer_select_unittree" name="layer_select_unittree" items=list_unittree_carto default_value='${id_unittree!}' />
				</@formGroup>
				<@formGroup>
					<@button type='submit' buttonIcon='check' name='apply' value='select_affectation' title='#i18n{task.config.modalAddConfigurationBtn}' />
				</@formGroup>
			</@modalBody>
		</@modal>
